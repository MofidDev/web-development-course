## نصب گیت در کامپیوتر

- https://git-scm.com

## ثبت‌نام در گیت‌هاب

- http://github.com
- https://github.com/join
- https://github.com/explore

## گروه توسعه‌دهندگان مفید

- https://github.com/MofidDev
- MofidDev@gmail.com

<div class="card text-white bg-success mb-3">
  <div class="card-body">
    <h6 class="card-title">تکلیف</h6>
    <p class="card-text">
   در سایت گیت‌هاب ثبت‌نام کنید و نام کاربری (username) خود را در تکلیف مربوطه در LMS ثبت کنید.
    </p>
  </div>
</div>

## کانفیگ اولیه گیت در سیستم

- ```bash
  git config --global user.email "you@example.com"
  ```
- ```bash
  git config --global user.name "Your Name"
  ```

## گیت به چه دردی می‌خورد؟

- می‌توانید به صورت تیمی روی یک پروژه کار کنید
- می‌توانید نسخه‌های مختلف یک پروژه را مدیریت کنید
- می‌توانید منشا اشکالات را پیدا کنید
- می‌توانید به چند نسخه قبل تر پروژه باز گردید
- می‌توانید نسخه‌های پایدار و باکیفیت پروژه را برچسب گذاری کنید
- می‌توانید تغییرات پروژه را با سرعت بدست دیگران برسانید
- می‌توانید تاریخچه تغییرات پروژه را مرور کنید
- می‌توانید از پروژه‌های خود نسخه پشتیبان تهیه کنید

## مفهوم repository

- در گیت همه چیز با یک مخزن شروع می‌شود. معمولا پوشه اصلی پروژه را بعنوان مخزن آن پروژه در نظر میگیریم. اما حتما باید به گیت اعلام کنیم که کدام پوشه را بعنوان مخزن درنظر بگیرد.

  - ```bash
    git init
    ```

- ممکن است نخواهید مخزن را خوتان بسازید. مثلا پروژه قبلا ایجاد شده و تازه می‌‌خواهید به آن اضافه شوید یا مواردی مشابه این که در این حالت باید به گیت بگویید یک کپی یا کلون از آن مخزن برای شما ایجاد کند.

  - ```bash
    git clone https://github.com/MofidDev/git-tutorial.git
    ```

## مفهوم staging

- وقتی مخزن آماده شد، باید هر فایلی که لازم است گیت تغییرات آن را رهگیری کند به گیت اعلام کنیم تا حواسش به آن فایل‌ها باشد.

- در ادبیات گیت به این فایل ها که گیت حواسش به تغییرات آن ها هست را tracked files می‌گویند.

- در ادبیات گیت به تغییراتی که قرار است در کامیت بعدی بیایند را staged changes می‌گویند.

- برای بردن فایل‌ها به استیج می‌توانیم به روش‌های زیر عمل کنیم.

  - ```bash
    git add a.html
    ```

  - ```bash
    git add -A
    ```

  - ```bash
    git add .
    ```

## مفهوم commit

- در گیت باید تغییرات را ثبت یا کامیت کنیم. در واقع به یک مجموعه تغییرات یک کامیت می‌گوییم. باید برای هر کامیت یک توضیح یا پیام هم ثبت کنیم که مشخص می‌کند علت این تغییرات چه بوده است یا این تغییرات چه کاری انجام می‌دهد.

- ```bash
  git commit -m "initial commit"
  ```

## مفهوم branch

- بدون برنچ یا شاخه، همیشه به صورت خطی پروژه را جلو می‌بریم. اما وقتی از برنچ‌ها استفاده می‌کنیم اعضای تیم یا خودمان می‌توانیم به صورت موازی روی قسمت‌های مختلف کار کنیم. برنچ ممکن است یک نسخه خاص از پروژه باشد یا مثلا اضافه کردن یک قابلیت خاص به پروژه.

- وقتی یک مخزن با git init تعریف می‌شود معمولا برنچ پیش‌فرض master می‌باشد. البته این موضوع بسته به تنظیمات گیت ممکن است فرق کند.

- برنچ‌ها ممکن است در لوکال یا در ریموت تعریف شوند و بروزرسانی برنچ‌ها در لوکال یا در ریموت بر عهده کاربر است.

## مفهوم remote

- می‌دانیم گیت یک ابزار کنترل نسخه توزیع شده است. یعنی باید بتوانیم از کامپیوترهای مختلف روی پروژه کار کنیم. برای این کار لازم است یک یا چند مخزن بعنوان ریموت تعریف شود تا گیت آخرین تغییرات را به آنجا بفرستد و آخرین تغییرات را از آنجا دریافت کنید.

- البته درمورد اینکه ممکن است ناهماهنگی‌ها و درگیری‌های فنی از بابت همگام‌سازی افراد بوجود آید باید در ادامه صحبت کنیم. اما مفهوم اصلی ریموت این است که یک یا چند آدرس را به گیت برای ارسال و دریافت تغییرات اعلام کنیم.

## مفهوم tag

- می‌توانیم به نسخه‌های مختلف نرم‌افزار در روند توسعه برچسب بزنیم تا بعدا به سرعت آن‌ها را پیدا کنیم. از این قابلیت معمولا برای مشخص کردن ورژن‌های مختلف نرم‌افزار استفاده می‌شود تا اگر بعدا لازم شد به یک نسخه خاص برگردیم این کار امکان پذیر باشد.

## مفهوم push

- در گیت می‌توانیم تعدادی تغییرات ثبت شده - کامیت‌ها یا تگ‌ها - را به یک ریموت پوش کنیم یا بفرستیم که ریموت از تغییرات لوکال ما مطلع شود.

## مفهوم submodule

- وقتی می‌خواهیم یک مخزن داشته باشیم و به در یکی از پوشه‌های آن به یک مخزن گیت دیگر ارجاع دهیم باید به گیت اعلام کنیم که جداگانه فایل های مخزن مذکور را رهگیری نکند بلکه کل آن‌ها را بعنوان یک زیرماژول درنظر بگیرد.

## چگونه وضعیت فعلی یک مخزن گیت را ببینیم؟

- ```bash
  git status
  ```

## چگونه از راهنمای گیت استفاده کنیم؟

- ```bash
  git help diff
  ```

## چگونه تاریخچه کارها در گیت را ببینیم؟

- ```bash
  git log
  ```

## چگونه بین دو تگ مقایسه کنیم؟

- مقایسه خط به خط همه تغییرات

  - ```bash
    git diff tag1 tag2
    ```

- مقایسه خط به خط تغییرات یک فایل خاص

  - ```bash
    git diff tag1 tag2 -- some/file/name
    ```

- لیست فایل‌های تغییر یافته

  - ```bash
    git diff tag1 tag2 --stat
    ```

- مقایسه لاگ تغییرات

  - ```bash
    git log tag1..tag2
    ```

## چگونه بین HEAD و تغییرات جاری مقایسه کنیم؟

## چگونه جزئیات یک کامیت یا تگ خاص را ببینیم؟

git show v01
git show g2345dfgertq4e5314wergertg

## چگونه یک ریموت جدید برای مخزن فعلی تعریف کنیم؟

- ```bash
  git remote add origin https://github.com/MofidDev/git-tutorial.git
  ```

## چگونه یک برنچ جدید در گیت بسازیم؟

- ```bash
  git branch multilingual-feature
  ```

## چگونه بین برنچ‌های مختلف جا‌به‌جا شویم؟

## چگونه یک برنج قدیمی را حذف کنیم؟

## چگونه لیست همه‌ی برنچ‌های تعریف شده را ببینیم؟

- ```bash
  git branch -v
  ```

## چگونه دو برنچ را مرج کنیم؟

## fetch چیکار می‌کند؟

آخرین تغییرات را با مقایسه بین ریموت و لوکال متوجه می‌شویم اما هیچ فایلی از ریموت دریافت نمی‌شود

## pull چیکار می‌کند؟

- ```bash
  git fetch && git merge
  ```

## چگونه بدون مرج تغییرات ریموت را در لوکال بگیریم؟

## چگونه یک ریموت جدید به مخزن اضافه کنیم؟

## چگونه همه‌ی ریموت‌های تعریف شده ببینیم؟

## چگونه یک فایل را از گیت و فایل‌سیستم حذف کنیم؟

## چگونه از گیت برای پیدا کردن باگ کمک بگیریم؟

## چگونه کامیت ها یا تگ ها را امضا کنیم؟

## چگونه کاری کنیم که تغییرات در ساب ماژول در وضعیت مخزن والد دیده نشود؟

## چه طور conflict بین لوکال و ریموت را برطرف کنیم؟

## چگونه آخرین کامیت را ریست کنیم؟

- if you want to keep your changes

  - ```bash
    git reset --soft HEAD^
    ```

- if you don't care about keeping the changes you made
  - ```bash
    git reset --hard HEAD^
    ```

## چگونه فایل را از استیج خارج کنیم؟

- ```bash
  git reset notes/n1.md
  ```

## چگونه تغییرات unstaged را revert کنیم؟

- ```bash
  git checkout -- notes/n1.md
  ```

## چگونه آدرس یک ریموت را تغییر دهیم؟

- ```bash
  git remote set-url origin https://github.com/MofidDev/git-tutorial.git
  ```

<div class="card text-white bg-success mb-3">
  <div class="card-body">
    <h6 class="card-title">تکلیف</h6>
    <p class="card-text">
    <ol>
      <li>یک مخزن عمومی در گیت‌هاب با اکانت خودتان تعریف کنید.</li>
      <li>به این مخزن سه فایل html اضافه کنید که هر فایل شامل عنوان و متن یک خبر باشد.</li>
      <li>برای تهیه خبر می‌توانید به سایت‌های خبرگزاری مراجعه کنید.</li>
      <li>اسم مخزن را به شکل <kbd>news-project</kbd> تعریف کنید.</li>
      <li>اسم فایل‌های html را به شکل روبه‌رو تعریف کنید: <kbd>n1.html</kbd> <kbd>n2.html</kbd> <kbd>n3.html</kbd></li>
      <li>آدرس مخزن را در تکلیف مربوطه در LMS ثبت کنید.</li>
    </ol>
    </p>
  </div>
</div>

<div class="card text-white bg-success mb-3">
  <div class="card-body">
    <h6 class="card-title">تکلیف</h6>
    <p class="card-text">
    <ol>
      <li>مخزن <kbd>git-tutorial</kbd> در صفحه گروه توسعه‌دهندگان مفید را fork کنید.</li>
      <li>یک فایل html ایجاد کنید و اسم این فایل را مطابق ذیل برابر با شماره کلاسی خود قرار دهید.</li>
      <li>مثلا اگر شماره کلاسی شما 7 باشد باید فایل <kbd>std7.html</kbd> را به مخزن اضافه کنید.</li>
      <li>در این فایل html باید نام و نام خانوادگی خود را قرار دهید</li>
      <li>در نهایت تغییرات لوکال خود را به ریموت منتقل کنید.</li>
      <li>حالا یک درخواست pull request یا merge request در مخزن اصلی ثبت کنید.</li>
      <li>در سامانه LMS آدرس مخزن فورک شده در اکانت خودتان را در تکلیف مربوطه ثبت کنید.</li>
    </ol>
    </p>
  </div>
</div>

## برای مطالعه بیشتر

- https://try.github.io
- https://docs.github.com
- https://guides.github.com
- https://git-scm.com/docs
- pgp (pretty good privacy)
- git blame
- git bisect
